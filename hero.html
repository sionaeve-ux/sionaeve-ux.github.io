<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Dancing Hero</title>
<style>
  body {
    margin: 0;
    background: #1e2f4f;
    overflow: hidden;
  }
  canvas {
    display: block;
  }
  .instruction {
    position: fixed;
    left: 50%;
    top: 20px;
    transform: translateX(-50%);
    color: rgba(255,255,255,0.9);
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    font-size: 16px;
    background: rgba(0,0,0,0.3);
    padding: 10px 20px;
    border-radius: 8px;
    backdrop-filter: blur(4px);
    text-align: center;
  }
</style>
</head>
<body>
<canvas id="c"></canvas>
<div class="instruction">Move your mouse or finger to control the hero</div>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");

function resize(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

// ----- HERO INFO -----
const hero = {
  x: canvas.width / 2,
  y: canvas.height / 2,
  targetX: canvas.width / 2,
  targetY: canvas.height / 2,
  t: 0
};

// ----- DRAW HERO -----
function drawHero() {
  const t = hero.t;

  ctx.save();
  ctx.translate(hero.x, hero.y);

  // bounce up & down
  const bob = Math.sin(t * 5) * 8;
  ctx.translate(0, bob);

  // body
  ctx.fillStyle = "#3b8f3b"; // green armor
  ctx.beginPath();
  ctx.ellipse(0, 0, 40, 55, 0, 0, Math.PI * 2);
  ctx.fill();

  // head
  ctx.fillStyle = "#eac39b"; // skin tone
  ctx.beginPath();
  ctx.arc(0, -70, 28, 0, Math.PI * 2);
  ctx.fill();

  // hair (dark)
  ctx.fillStyle = "#2b2b2b";
  ctx.beginPath();
  ctx.arc(0, -78, 30, Math.PI * 1, Math.PI * 2);
  ctx.fill();

  // arms swinging left & right
  const armSwing = Math.sin(t * 5) * 25;

  // left arm
  ctx.save();
  ctx.rotate((armSwing * Math.PI)/180);
  ctx.fillStyle = "#3b8f3b";
  ctx.fillRect(-60, -20, 40, 15);
  ctx.restore();

  // right arm
  ctx.save();
  ctx.rotate((-armSwing * Math.PI)/180);
  ctx.fillStyle = "#3b8f3b";
  ctx.fillRect(20, -20, 40, 15);
  ctx.restore();

  // shield (brown circle)
  ctx.save();
  ctx.rotate((-armSwing * Math.PI)/180);
  ctx.fillStyle = "#7b5a2a";
  ctx.beginPath();
  ctx.arc(60, -10, 25, 0, Math.PI * 2);
  ctx.fill();
  ctx.restore();

  // legs dancing
  const legSwing = Math.sin(t * 5) * 18;

  ctx.fillStyle = "#333";
  ctx.fillRect(-20 + legSwing, 55, 15, 45);
  ctx.fillRect(5 - legSwing, 55, 15, 45);

  ctx.restore();
}

// ----- MOUSE/TOUCH TRACKING -----
canvas.addEventListener("mousemove", (e) => {
  const rect = canvas.getBoundingClientRect();
  hero.targetX = e.clientX - rect.left;
  hero.targetY = e.clientY - rect.top;
});

canvas.addEventListener("touchmove", (e) => {
  e.preventDefault();
  const rect = canvas.getBoundingClientRect();
  const touch = e.touches[0];
  hero.targetX = touch.clientX - rect.left;
  hero.targetY = touch.clientY - rect.top;
}, { passive: false });

canvas.addEventListener("click", (e) => {
  const rect = canvas.getBoundingClientRect();
  hero.targetX = e.clientX - rect.left;
  hero.targetY = e.clientY - rect.top;
});

canvas.addEventListener("touchstart", (e) => {
  const rect = canvas.getBoundingClientRect();
  const touch = e.touches[0];
  hero.targetX = touch.clientX - rect.left;
  hero.targetY = touch.clientY - rect.top;
}, { passive: true });

// ----- ANIMATION LOOP -----
function animate() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  hero.t += 0.02;

  // Smoothly move hero towards target
  const dx = hero.targetX - hero.x;
  const dy = hero.targetY - hero.y;
  hero.x += dx * 0.1;
  hero.y += dy * 0.1;

  drawHero();
  requestAnimationFrame(animate);
}

animate();
</script>
</body>
</html>
